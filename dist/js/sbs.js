document.addEventListener("DOMContentLoaded",()=>{let e,t,n,a=document.getElementById("mobile-menu-button"),i=document.getElementById("mobile-nav"),s=document.getElementById("close-mobile-nav"),r=document.querySelector("header"),l=i?i.querySelectorAll("a.mobile-nav-link"):[];function o(){i&&(i.style.display="flex",requestAnimationFrame(()=>{i.classList.remove("translate-x-full"),i.classList.add("translate-x-0")}))}function c(){i&&(i.classList.remove("translate-x-0"),i.classList.add("translate-x-full"))}a&&a.addEventListener("click",o),s&&s.addEventListener("click",c),l.length>0&&l.forEach(e=>{e.getAttribute("href")&&e.getAttribute("href").startsWith("#")&&e.addEventListener("click",c)}),r&&window.addEventListener("scroll",()=>{r.classList.toggle("scrolled",window.scrollY>50)},{passive:!0});let d={root:null,rootMargin:"0px",threshold:.1},p=(e,t)=>{e.forEach(e=>{if(e.isIntersecting){let n=e.target,a=parseInt(n.getAttribute("data-delay")||"0",10);setTimeout(()=>{n.classList.add("is-visible"),n.classList.contains("section-heading"),n.classList.contains("hero-stats-container")&&g(n)},a),t.unobserve(n)}})};function u(e){document.querySelectorAll(e).forEach(e=>{e.classList.contains("is-visible")||(e.classList.contains("animate-on-scroll")&&(e.style.transform=e.style.transform||"translateY(30px)"),t.observe(e))})}function g(e){let t=e.querySelectorAll(".hero-stat-number, .stat-number");t.forEach(e=>{if("true"===e.dataset.animated)return;let t=+e.getAttribute("data-count");if(isNaN(t)){console.warn("Invalid data-count:",e.getAttribute("data-count"),"on element",e);return}e.innerText="0+";let n=0,a=Math.max(1,Math.ceil(t/75)),i=setInterval(()=>{(n+=a)>=t?(e.innerText=t.toLocaleString("ar-EG")+"+",clearInterval(i),e.dataset.animated="true"):e.innerText=Math.min(n,t).toLocaleString("ar-EG")+"+"},20)})}t=new IntersectionObserver(p,d),u(".animate-on-scroll"),u(".section-heading");let m=document.getElementById("hero-image-carousel");if(m){let f=[{src:"src/acfy_sbs.webp",alt:"شباب بتساعد شباب في مؤتمر"},{src:"https://i.ibb.co/cSXkKTPw/sbs-yed-2-2.jpg",alt:"طلاب يدرسون"},{src:"https://i.ibb.co/7ddf6mvR/E-Gnite-group-2.jpg",alt:"طلاب يدرسون"},{src:"https://i.ibb.co/93fJdyPV/flag-sbs-2.jpg",alt:"صورة فريق شباب بتساعد شباب"},{src:"src/group_att_lcoy.webp",alt:"صورة فريق شباب بتساعد شباب"},{src:"https://i.ibb.co/p6HCYYqx/sunshine-sbs.jpg",alt:"فريق يتعاون"},{src:"src/tech_expo.webp",alt:"طلاب يدرسون"},{src:"src/industrial.webp",alt:"طلاب يدرسون"},{src:"https://i.ibb.co/gFBQxJr4/Industrial-X-Summit-3.jpg",alt:"طلاب يدرسون"},],$=0,v=[],h=null;f.forEach((e,t)=>{let n=document.createElement("img");n.src=e.src,n.alt=e.alt,n.loading="lazy",0===t&&n.classList.add("active-slide"),m.appendChild(n),v.push(n)});let b=()=>{v.length<=1||(v[$]?.classList.remove("active-slide"),v[$=($+1)%v.length]?.classList.add("active-slide"))},y=()=>{h&&clearInterval(h),h=setInterval(b,3e3)};y()}let w=document.getElementById("chatbot-toggler"),x=document.getElementById("chatbot-container"),E=document.getElementById("close-chatbot"),_=document.getElementById("chatbot-messages"),k=document.getElementById("chatbot-input-field"),L=document.getElementById("send-message"),I=!1;function T(e,t){if(!_)return;let n=document.createElement("div");n.classList.add(t?"user-message":"bot-message"),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" class="text-white underline hover:opacity-80">$1</a>'),n.innerHTML=e,_.appendChild(n),_.scrollTo({top:_.scrollHeight,behavior:"smooth"})}function C(){_&&0===_.children.length&&T("مرحباً بك في المساعد الذكي لمبادرة شباب بتساعد شباب! \uD83D\uDC4B كيف يمكنني مساعدتك في العثور على فرص تعليمية أو معلومات اليوم؟",!1)}function S(e){let t=e.toLowerCase().trim(),n={مرحبا:"أهلاً بك! سعيد بمساعدتك. هل تبحث عن فرص معينة (منح، دورات، مسابقات)؟",اهلا:"أهلاً بك! سعيد بمساعدتك. هل تبحث عن فرص معينة (منح، دورات، مسابقات)؟",أهلا:"أهلاً بك! سعيد بمساعدتك. هل تبحث عن فرص معينة (منح، دورات، مسابقات)؟",ازيك:"أهلاً بك! سعيد بمساعدتك. هل تبحث عن فرص معينة (منح، دورات، مسابقات)؟","السلام عليكم":"وعليكم السلام! كيف أقدر أساعدك اليوم؟",فرص:"رائع! يمكنك استكشاف أحدث الفرص في قسم [الفرص](#opportunities) على موقعنا. هل تهتم بنوع معين (مسابقات، دورات، منح)؟",منح:"لدينا قسم خاص بالمنح الدراسية في [الفرص](#opportunities). نقدم منحاً محلية ودولية. هل تبحث عن تخصص أو دولة معينة؟",دورات:"الدورات التدريبية متوفرة في [قسم الفرص](#opportunities). نغطي مجالات متنوعة. ما هو المجال الذي يثير اهتمامك؟",كورس:"الدورات التدريبية متوفرة في [قسم الفرص](#opportunities). نغطي مجالات متنوعة. ما هو المجال الذي يثير اهتمامك؟",مسابقات:"المسابقات طريقة رائعة لتحدي نفسك! تجدها في [قسم الفرص](#opportunities). هل تبحث عن مسابقة في مجال معين؟",تواصل:"يسعدنا تواصلك! يمكنك استخدام نموذج الاتصال في [صفحة تواصل معنا](#contact) أو مراسلتنا مباشرة على البريد الإلكتروني: shbab.btsad.shbab@gmail.com",موارد:"لدينا مكتبة موارد غنية في [قسم الموارد](#resources-intro). تجد فيها أدلة، قوالب، وفيديوهات تعليمية مفيدة.","تطوير ذاتي":"ممتاز! التطوير الذاتي مهم. يمكنك البحث عن دورات وموارد متعلقة بذلك في قسمي [الفرص](#opportunities) و[الموارد](#resources-intro).",مهارات:"تطوير المهارات أساسي. تصفح [الفرص](#opportunities) للدورات و[الموارد](#resources-intro) للمواد التعليمية.",شكرا:"على الرحب والسعة! \uD83D\uDE0A إذا احتجت أي مساعدة أخرى، أنا هنا لخدمتك.","كيف اقدم":"عادةً، تجد زر 'التسجيل' أو 'عرض التفاصيل' في بطاقة كل فرصة بـ[قسم الفرص](#opportunities). اضغط عليه واتبع التعليمات الخاصة بكل فرصة.",تسجيل:"عادةً، تجد زر 'التسجيل' أو 'عرض التفاصيل' في بطاقة كل فرصة بـ[قسم الفرص](#opportunities). اضغط عليه واتبع التعليمات الخاصة بكل فرصة."};for(let a in n)if(t.includes(a))return n[a];return"لم أفهم سؤالك تماماً. \uD83E\uDD14 هل يمكنك إعادة صياغته؟ يمكنك أيضاً تصفح الأقسام الرئيسية: [الفرص](#opportunities), [الموارد](#resources-intro), أو علي التليجرام و سنساعدك بكل تأكيد."}function j(){if(!k||!_)return;let e=k.value.trim();""!==e&&(T(e,!0),k.value="",setTimeout(()=>{T(S(e),!1)},800+400*Math.random()))}w&&w.addEventListener("click",()=>{x&&(x.classList.toggle("active"),(I=x.classList.contains("active"))&&(C(),k&&k.focus()))}),E&&E.addEventListener("click",()=>{x&&(x.classList.remove("active"),I=!1)}),L&&L.addEventListener("click",j),k&&k.addEventListener("keypress",e=>{"Enter"===e.key&&j()});let B={apiKey:"AIzaSyCetO7gGMegFngNxvU45RDc727dL5gFbVk",authDomain:"shbab-tsad-shbab-55611.firebaseapp.com",databaseURL:"https://shbab-tsad-shbab-55611-default-rtdb.firebaseio.com",projectId:"shbab-tsad-shbab-55611",storageBucket:"shbab-tsad-shbab-55611.appspot.com",messagingSenderId:"455251209214",appId:"1:455251209214:web:eb442328a4266be6f4aeaf",measurementId:"G-JFVGKYDSBS"};try{if(firebase.apps.length)firebase.app(),console.log("Using existing Firebase app (Compat).");else if(firebase.initializeApp(B),console.log("Firebase Initialized Successfully (Compat)!"),firebase.analytics&&"function"==typeof firebase.analytics)try{firebase.analytics(),console.log("Firebase Analytics Initialized (Compat)!")}catch(H){console.warn("Firebase Analytics initialization failed:",H)}else console.warn("Firebase Analytics script not loaded or invalid.");e=firebase.firestore()}catch(M){console.error("FATAL: Error initializing Firebase:",M);let F=document.getElementById("opportunities-grid");F&&(F.innerHTML='<p class="text-center text-red-500 md:col-span-2 lg:col-span-3">حدث خطأ حرج أثناء الاتصال بقاعدة البيانات. لا يمكن تحميل الفرص.</p>')}let z=document.getElementById("opportunities-grid"),A=document.getElementById("search-input"),D=document.getElementById("filter-buttons"),q=D?D.querySelectorAll(".filter-btn"):[],P="all",Y="",O=[];async function K(){if(!e){console.error("Firestore is not initialized. Cannot fetch opportunities."),z&&(z.innerHTML='<p class="text-center text-red-500 md:col-span-2 lg:col-span-3">خطأ: لم يتم تهيئة قاعدة البيانات.</p>');return}if(!z){console.error("Opportunities grid container not found.");return}z.innerHTML='<p class="text-center text-gray-500 md:col-span-2 lg:col-span-3">جاري تحميل الفرص...</p>';try{let t=e.collection("opportunities"),n=await t.get();O=[],n.forEach(e=>{let t=e.data();t.title&&t.type&&t.description?O.push({id:e.id,...t}):console.warn(`Opportunity document ID ${e.id} missing essential fields.`)}),console.log("Fetched Opportunities:",O.length),G()}catch(a){console.error("Error fetching opportunities: ",a),z&&(z.innerHTML='<p class="text-center text-red-500 md:col-span-2 lg:col-span-3">حدث خطأ أثناء تحميل الفرص. يرجى المحاولة مرة أخرى.</p>')}}function R(e){if(z){if(z.innerHTML="",0===e.length){z.innerHTML='<p class="text-center text-gray-500 md:col-span-2 lg:col-span-3">لا توجد فرص تطابق بحثك أو الفلتر المحدد.</p>';return}e.forEach(e=>{let t=document.createElement("div");t.className="card-base opportunity-card p-6 flex flex-col animate-on-scroll";let n="badge-coral";e.badgeClass?n=e.badgeClass:"دورة تدريبية"===e.type?n="badge-teal":["منحة دراسية","برنامج","برنامج صيفي"].includes(e.type)&&(n="badge-navy"),t.innerHTML=`
                     <div class="flex justify-between items-start mb-4">
                         <span class="badge ${n}">${e.type||"فرصة"}</span>
                         <button class="text-gray-400 hover:text-coral text-xl transition duration-300 transform hover:scale-125" aria-label="حفظ الفرصة"><i class="far fa-bookmark"></i></button>
                     </div>
                     <h3 class="text-xl font-bold mb-2 text-navy">${e.title||"عنوان غير متوفر"}</h3>
                     <p class="text-gray-600 mb-4 h-20 overflow-hidden">${e.description||"لا يوجد وصف."}</p>
                     <div class="flex items-center text-sm text-gray-500 mb-4">
                         <i class="far fa-calendar-alt ml-2 text-teal"></i>
                         <span> الموعد النهائي: ${e.deadline||"غير محدد"}</span>
                     </div>
                     <a href="${e.link||"#"}" target="_blank" rel="noopener noreferrer" class="btn btn-primary w-full mt-auto">
                         عرض التفاصيل
                     </a>
                 `,z.appendChild(t)}),u("#opportunities-grid .animate-on-scroll")}}function G(){let e=Y.toLowerCase(),t=O.filter(t=>{let n="all"===P||t?.type&&t.type===P,a=t?.title&&t.title.toLowerCase().includes(e),i=t?.description&&t.description.toLowerCase().includes(e);return n&&(""===e||a||i)});R(t)}function N(){let e=document.getElementById("three-container");if(!e||"undefined"==typeof THREE){e||console.warn("Three.js container not found."),"undefined"==typeof THREE&&console.warn("Three.js library not loaded.");return}try{let t=new THREE.Scene,n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),a=new THREE.WebGLRenderer({alpha:!0,antialias:!0});a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(Math.min(window.devicePixelRatio,2)),e.appendChild(a.domElement);let i=new THREE.BufferGeometry,s=new Float32Array(3e3);for(let r=0;r<3e3;r++)s[r]=(Math.random()-.5)*10;i.setAttribute("position",new THREE.BufferAttribute(s,3));let l=new THREE.PointsMaterial({size:.06,color:15764606,sizeAttenuation:!0}),o=new THREE.Points(i,l);t.add(o),n.position.z=4;let c=new THREE.Clock;!function e(){let i=c.getElapsedTime();o.rotation.y=.05*i,o.rotation.x=.03*i,a.render(t,n),requestAnimationFrame(e)}(),window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(Math.min(window.devicePixelRatio,2))},{passive:!0})}catch(d){console.error("Error initializing Three.js:",d),e.innerHTML=""}}q.length>0?q.forEach(e=>{e.addEventListener("click",()=>{P=e.dataset.type,q.forEach(e=>e.classList.remove("active")),e.classList.add("active"),G()})}):console.warn("Opportunity filter buttons not found."),A?A.addEventListener("input",e=>{Y=e.target.value.trim(),G()}):console.warn("Opportunity search input not found.");let W=document.getElementById("about-image-container"),X=document.getElementById("about-image");W&&X&&"undefined"==typeof VanillaTilt?(W.addEventListener("mousemove",e=>{let t=W.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,i=t.width/2,s=t.height/2,r=(a-s)/15,l=(i-n)/15;X.style.transform=`rotateX(${r}deg) rotateY(${l}deg) scale(1.03)`}),W.addEventListener("mouseleave",()=>{X.style.transform="rotateX(0deg) rotateY(0deg) scale(1)"})):X&&"undefined"!=typeof VanillaTilt&&VanillaTilt.init(X,{max:8,perspective:1e3,scale:1.03,speed:400,glare:!0,"max-glare":.2});let V=document.getElementById("particles-js-timeline");V&&tsParticles.load("particles-js-timeline",{particles:{number:{value:100,density:{enable:!0,value_area:800}},color:{value:["#f08c7e","#87baba","#e0f7f7"]},shape:{type:"circle"},opacity:{value:.6,random:!0,anim:{enable:!0,speed:.5,opacity_min:.1,sync:!1}},size:{value:25,random:!0,anim:{enable:!1}},move:{enable:!0,speed:1.5,direction:"bottom",random:!0,straight:!0,out_mode:"out",bounce:!1}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1},onclick:{enable:!1},resize:!0}},detectRetina:!0,fullScreen:{enable:!1}});let J=[{type:"featured",image:"https://static.vecteezy.com/system/resources/previews/023/248/383/original/team-podcast-2d-isolated-spot-illustration-show-hosts-communicating-with-microphones-at-table-flat-characters-on-cartoon-background-colorful-editable-scene-for-mobile-website-magazine-vector.jpg",tag:"بودكاست",title:"بودكاست صوتية مميزة",description:" تناقش مواضيع متنوعة في الوعي والتنمية الذاتية و الخبرات الحياتية.",buttonText:"استماع",buttonIcon:"fa-headphones",link:"educational_resources.html"},{type:"featured",image:"https://gowithcode.com/wp-content/uploads/2021/04/top-programming-languages.jpg",tag:"برمجة",title:"تعلم مجالات البرمجة المختلفة",description:"كورسات شاملة لتعلم البرمجة في مجالات عديدة.",buttonText:"مشاهدة",buttonIcon:"fa-play",link:"educational_resources.html"},{type:"featured",image:"https://lwfiles.mycourse.app/aionacademy-public/f60091c900d35564778eb2b91abb24fc.jpeg",tag:"التصميم",title:"تعلم مجالات التصميم المختلفة",description:"كورسات شاملة لتعلم التصميم الجرافيكي في مجالات عديدة.",buttonText:"مشاهدة",buttonIcon:"fa-play",link:"educational_resources.html"},{type:"featured",image:"https://d2jx2rerrg6sh3.cloudfront.net/images/Article_Images/ImageForArticle_22019_16430188554602375.jpg",tag:"لغات",title:"تعلم اللغات",description:"دورات شاملة لتعلم اللغات.",buttonText:"تصفح",buttonIcon:"fa-book-open",link:"educational_resources.html"},{type:"featured",image:"https://static.vecteezy.com/system/resources/previews/012/627/751/original/3d-books-stack-education-learning-studying-and-information-concept-realistic-3d-high-quality-render-isolated-png.png",tag:"مستندات",title:"كتب و مستندات ",description:"كتب إلكتروني و مستندات و المزيد.",buttonText:"تحميل",buttonIcon:"fa-download",link:"educational_resources.html"},{type:"featured",image:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftechengage.com%2Fwp-content%2Fuploads%2F2021%2F01%2Feducational-apps-1.jpg&f=1&nofb=1&ipt=a8759cb840d45e73feed69e127869bebc593a99b54342932abe73a81e095f76d",tag:"مواقع",title:"مواقع و تطبيقات مهمة",description:"كتب إلكتروني و مستندات و المزيد.",buttonText:"تحميل",buttonIcon:"fa-download",link:"educational_resources.html"},],U=document.getElementById("featured-resources-grid");function Q(e,t){let n=!e.image,a="card-base resource-card p-6 flex flex-col animate-on-scroll";return n&&(a+=" bg-gradient-to-br from-teal to-light-cyan text-navy"),`
                <div class="${a}">
                    ${n?'<div class="h-20"></div>':`<div class="relative h-48 mb-4 overflow-hidden rounded-lg group"><img src="${e.image}" alt="${e.title||"Resource Image"}" class="w-full h-full object-cover transition-transform duration-300 ease-in-out group-hover:scale-110" loading="lazy"></div>`}
                    <h4 class="text-lg font-bold mb-2 ${n?"text-white":"text-navy"}">${e.title||"عنوان مميز"}</h4>
                    <p class="text-sm ${n?"text-white opacity-90":"text-gray-600"} mb-4 flex-grow">${e.description||""}</p>
                    <div class="flex justify-between items-center mt-auto pt-3 border-t ${n?"border-white border-opacity-30":"border-gray-200"}">
                        <span class="text-xs ${n?"text-white opacity-80":"text-gray-500"}">
                            ${e.tag?`<span class="inline-block bg-opacity-20 ${n?"bg-white text-white":"bg-coral text-coral"} rounded-full px-2 py-0.5">${e.tag}</span>`:""}
                            ${e.rating?`<span class="mr-2"><i class="fas fa-star text-yellow-400 mr-1"></i>${e.rating}</span>`:""}
                        </span>
                        <a href="${e.link||"#"}" target="_blank" rel="noopener noreferrer" class="text-sm font-semibold ${n?"text-white hover:text-opacity-80":"text-coral hover:text-coral-dark"} transition duration-300">
                            ${e.buttonText||"المزيد"} <i class="fas ${e.buttonIcon||"fa-arrow-left"} mr-1"></i>
                        </a>
                    </div>
                </div>`}function Z(){if(!U){console.error("Featured resources grid not found.");return}if(0===J.length){U.innerHTML='<p class="text-center text-gray-500 col-span-full">لا توجد موارد مميزة حالياً.</p>';return}let e=J.map(Q).join("");if(U.innerHTML=e,u("#featured-resources-grid .animate-on-scroll"),"undefined"!=typeof VanillaTilt){let t=U.querySelectorAll(".resource-card");t.length>0&&VanillaTilt.init(t,{max:5,speed:300,glare:!0,"max-glare":.1})}}let ee=document.getElementById("resources-typed-text");if(ee&&"undefined"!=typeof Typed)try{new Typed("#resources-typed-text",{strings:["مصادر مجانية","محتوى مميز","كتب قيمة","مواقع و تطبيقات مميزة","مصادر لتعلم جميع المجالات","بودكاست ملهمة","خطط تطوير ذات"],typeSpeed:50,backSpeed:25,backDelay:1800,startDelay:500,loop:!0,showCursor:!0,cursorChar:"|"})}catch(et){console.error("Error initializing Typed.js for resources:",et),ee.innerText="مصادر مجانية ومميزة"}else ee?console.warn("Typed.js library not loaded."):console.warn("Element #resources-typed-text not found.");let en=document.getElementById("current-year");en?en.textContent=new Date().getFullYear():console.warn("Element #current-year not found in footer.");let ea=[],ei=[{title:"NUCPA 2025",date:"2025-04-18",summary:"كنا شريك تنظيم في هذه المسابقة التي جمعت أفضل العقول البرمجية في تجربة حماسية بأسلوب ICPC/ACM و تنافسوا علي تحقيق النصر.",img:"https://i.ibb.co/G4HP6WF6/nucpa.jpg",gallery:"https://www.facebook.com/share/p/18j928z5zt",highlight:"ساعدنا في تنظيم أكثر من 178 فريق.<br>ساعدنا في النشر عن الفعالية عبر منصاتاتنا المختلفة مما أدي إلي مشاركة أكتر من 440 فريق."},{title:"Youth Entrepreneurs Days 2th",date:"2025-02-22",summary:"كنا شركاء تنظيم في هذا الحدث بجانب الندوة التي قدمناها والتي افادت جميع الشباب الحضور و كان الايفنت يركز علي الشباب المهتمين بعالم البيزنس والشركات الناشئة.",img:"https://i.ibb.co/cSXkKTPw/sbs-yed-2-2.jpg",gallery:"https://www.facebook.com/share/p/1EsZQy56hx",highlight:"ساعدنا في تنظيم أكثر من 1000 حاضر.<br>قدمنا ندوة ساعدت الشباب علي اكتشاف أنفسهم و الفرص المختلفة في سن مبكر.<br>ساعدنا في النشر عن الفعالية عبر منصاتاتنا المختلفة مما أدي إلي تحقيق عدد الحضور المرجو من أصحاب الفعالية"},{title:"IndustrialX Summit",date:"2025-02-15",summary:"كنا شركاء مجتمع في هذا الحدث الذي كان يركز علي تعريف طلاب الجامعات و الخريجين علي مجال الصناعات المختلفة مع سماع متحدثين من الصناعات المختلفة.",img:"https://i.ibb.co/gFBQxJr4/Industrial-X-Summit-3.jpg",gallery:"https://www.facebook.com/share/p/1Bq3mQPMYN",highlight:"قمنا بالترويج لهذا الحدث حيث قام بالحضور أكثر من 750 طالب و طالبة.<br>قمنا بإطلاق المسابقة الخاصة بينا و شارك فيها أكتر من 100 مشترك حيث كانت المسابقة تتمحور علي المعرفة العامة من خلال أسئلة و ربحها ٣ أبطال و تلقوا جوائز قيمة."},{title:"Tech Expo",date:"2025-02-01",summary:"كنا شركاء مجتمع في هذا الحدث الذي كان يركز علي تعريف الحاضرين علي مجالات التكنولوجيا المختلفة مع سماع فقرات لأشخاص ملهمة مثل سلمي الشربيني و غيرها.",img:"https://i.ibb.co/8nM2xCT9/tech-expo-2.jpg",gallery:"https://www.facebook.com/share/v/12Hk7e3sg3q",highlight:"قمنا بقديم ندوة للشباب عن مستقبل الذكاء الإصطناعي و كيفية الإستفادة منه لمواكبة التطور في العصر الحالي.<br>قمنا بالترويج لهذا الحدث حيث قام بالحضور أكثر من 500 حاضر."},{title:"LCOY Egypt",date:"2024-11-01",summary:"كنا شركاء مجتمع في قمة مصر المستدامة للشباب ومؤتمر التغيرات المناخية المحلي للشباب مع Act Sustainable الحدث السنوي الأكبر اللي بيجمع قادة التغيير في مجال المناخ والاستدامة من جميع أنحاء مصر",img:"https://i.ibb.co/FbyWKzN4/lcoy-2024-2.jpg",gallery:"https://www.facebook.com/share/v/12Hk7e3sg3q",highlight:"قمنا بالترويج لهذا الحدث حيث قام بالحضور أكثر من ١٥٠٠ شخص علي مدار يومين"},{title:"E-Gnite Bootcamp 2th",date:"2024-08-23",summary:"كنا شركاء مجتمع في هذا المعسكر الذي كان مستمر لمدة 3 أيام لتعريف الشباب بأساسيات ريادة الأعمال و إدارة الشركات الناشئة.",img:"https://i.ibb.co/pjYdwck8/e-gnite-bootcamp.jpg",gallery:"https://www.facebook.com/share/p/1EHVJdFynv",highlight:"قمنا بالترويج و المتابعة لهذا الحدث حيث قام بالحضور 175 شخص وأبدو إعجابهم الشديد بالمعسكر وكم الإستفادة التي حصلوا عليها."}],es=[{name:"أحمد المصري",event:"معسكر القادة 2024",avatar:"https://randomuser.me/api/portraits/men/32.jpg",quote:"كانت تجربة غيرت نظرتي للحياة! تعلمت من أصدقاء جدد واكتسبت ثقة أكبر بنفسي."},{name:"سارة يوسف",event:"ورشة البرمجة",avatar:"https://randomuser.me/api/portraits/women/44.jpg",quote:"المدربون كانوا رائعين جدًا، والدروس تطبيقية وسهلة الفهم. أنصح الجميع بالمشاركة!"},{name:"محمد علي",event:"ندوة الطاقة المتجددة",avatar:"https://randomuser.me/api/portraits/men/70.jpg",quote:"محتوى غني وهام حول مستقبل الطاقة. التنظيم والضيافة ممتازة جدًا."},{name:"ريم الهام",event:"مهرجان الفنون",avatar:"https://randomuser.me/api/portraits/women/15.jpg",quote:"أجواء رائعة مليئة بالمواهب والطاقة الإيجابية. فخورة أني شاركت!"}],er=["الكل","معسكرات","ورش عمل","ندوات"],el=[{label:"الكل",value:"all"},{label:"اليوم",value:"today"},{label:"هذا الأسبوع",value:"week"},{label:"هذا الشهر",value:"month"}];function eo(e){let t=e.split("-");return new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]))}function ec(e,t,n){let a=new Date(e+"T"+(t||"00:00")),i=a.getDate(),s=["يناير","فبراير","مارس","ابريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"][a.getMonth()],r=a.getFullYear(),l=`${i} ${s} ${r}`;if(n&&n.includeTime&&t){let[o,c]=t.split(":"),d=(o=parseInt(o))<12?"ص":"م";0===o||12===o?o=12:o>12&&(o-=12),l+=`، ${o}:${c} ${d}`}return l}function ed(e){let t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function ep(e){let t=new Date,n=new Date(t.setDate(t.getDate()-t.getDay())),a=new Date(t.setDate(t.getDate()-t.getDay()+6));return n.setHours(0,0,0,0),a.setHours(23,59,59,999),e>=n&&e<=a}function eu(e){let t=new Date;return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}let eg={type:"الكل",time:"all",search:""};function em(){let e=document.getElementById("event-type-filters"),t=document.getElementById("event-time-filters");e&&(e.innerHTML="",er.forEach(t=>{let n=document.createElement("button");n.className="events-section__filter-btn"+(t===eg.type?" active":""),n.type="button",n.dataset.type=t,n.innerText=t,n.tabIndex=0,n.addEventListener("click",function(){document.querySelectorAll("#event-type-filters .events-section__filter-btn").forEach(e=>e.classList.remove("active")),this.classList.add("active"),eg.type=t,ef()}),e.appendChild(n)})),t&&(t.innerHTML="",el.forEach(e=>{let n=document.createElement("button");n.className="events-section__filter-btn"+(e.value===eg.time?" active":""),n.type="button",n.dataset.time=e.value,n.innerText=e.label,n.tabIndex=0,n.addEventListener("click",function(){document.querySelectorAll("#event-time-filters .events-section__filter-btn").forEach(e=>e.classList.remove("active")),this.classList.add("active"),eg.time=e.value,ef()}),t.appendChild(n)}))}function ef(){let e=document.getElementById("events-grid");if(!e)return;e.innerHTML="";let t=ea.filter(e=>{if(eg.type&&"الكل"!==eg.type&&e.type!==eg.type)return!1;let t=eo(e.date),n=!1;switch(eg.time){case"today":n=ed(t);break;case"week":n=ep(t);break;case"month":n=eu(t);break;default:n=!0}if(!n)return!1;if(eg.search?.trim()){let a=eg.search.trim().toLowerCase();if(!(e.title?.toLowerCase().includes(a)||e.location?.toLowerCase().includes(a)||e.description?.toLowerCase().includes(a)))return!1}return!0});if(0===t.length){e.innerHTML='<div class="col-span-full text-center py-12 text-lg text-gray-500">لا يوجد فعاليات مطابقة حالياً.</div>';return}t.sort((e,t)=>new Date(e.date+"T"+(e.time||"00:00"))-new Date(t.date+"T"+(t.time||"00:00"))),t.forEach(t=>{let n=document.createElement("div");n.className="events-section__event-card animate-on-scroll group",n.tabIndex=0,n.setAttribute("role","article"),n.setAttribute("aria-labelledby",`event-title-${t.id}`),n.innerHTML=`
                    <div class="events-section__event-share">
                        <button title="مشاركة عبر تويتر" aria-label="مشاركة عبر تويتر" onclick="shareEvent('${t.title}', window.location.href, 'twitter')"><i class="fab fa-twitter"></i></button>
                        <button title="مشاركة عبر إنستجرام" aria-label="مشاركة عبر إنستجرام" onclick="shareEvent('${t.title}', window.location.href, 'instagram')"><i class="fab fa-instagram"></i></button>
                        <button title="مشاركة عبر واتساب" aria-label="مشاركة عبر واتساب" onclick="shareEvent('${t.title}', window.location.href, 'whatsapp')"><i class="fab fa-whatsapp"></i></button>
                    </div>
                    <img class="events-section__event-img" src="${t.img}" alt="صورة لفعالية ${t.title}" loading="lazy">
                    <div class="events-section__event-info">
                        <h3 class="events-section__event-title" id="event-title-${t.id}">${t.title}</h3>
                        <div class="events-section__event-date"><i class="far fa-calendar-alt"></i><span>${ec(t.date,t.time,{includeTime:!0})}</span></div>
                        <div class="events-section__event-location"><i class="${t.isOnline?"fas fa-globe":"fas fa-map-marker-alt"}"></i><span>${t.location}</span></div>
                        <div class="events-section__event-description">${t.description}</div>
                        <a href="#" class="btn btn-primary events-section__event-cta" onclick="event.preventDefault(); alert('سيتم فتح رابط التسجيل قريباً!');">
                            ${new Date(t.date+"T"+(t.time||"00:00"))>new Date?'<span>سجل الآن</span> <i class="fas fa-arrow-left"></i>':"<span>تعرف أكثر</span>"}
                        </a>
                        <div class="events-section__event-organizer"><i class="fas fa-users text-xs mr-1"></i> المنظم: ${t.organizer}</div>
                    </div>`,n.addEventListener("keydown",e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),n.querySelector(".events-section__event-cta")?.click())}),e.appendChild(n)}),u("#events-grid .animate-on-scroll")}function e$(e,t,n){let a="",i=encodeURIComponent(`فعالية رائعة من شباب بتساعد شباب: ${e} #YouthEventsSBS`);switch(t=encodeURIComponent(t.split("#")[0]+"#events"),n){case"twitter":a=`https://twitter.com/intent/tweet?text=${i}&url=${t}`;break;case"instagram":alert("لا يمكن مشاركة النص مباشرة إلى Instagram Stories من الويب حالياً.");return;case"whatsapp":a=`https://api.whatsapp.com/send?text=${i}%20${t}`}a&&window.open(a,"_blank","noopener,noreferrer")}function ev(){let e=document.getElementById("countdown-text");if(!e)return;let t=new Date,n=null,a=null;for(let i of ea)try{let s=new Date(i.date+"T"+(i.time||"00:00")+":00");s instanceof Date&&!isNaN(s)&&s>t&&(null===a||s<a)&&(n=i,a=s)}catch(r){console.warn(`Could not parse date/time for event ID ${i.id}: ${i.date} ${i.time}`)}if(!n||!a){e.innerText="لا يوجد فعاليات في الوقت الحالي خاصة بنا";return}let l=a.getTime()-t.getTime();l<0&&(l=0);let o=Math.floor(l/864e5),c=Math.floor(l%864e5/36e5),d=Math.floor(l%36e5/6e4),p=Math.floor(l%6e4/1e3),u=`(${n.title}) يبدأ خلال: `;o>0&&(u+=`${o} يوم، `),u+=`${String(c).padStart(2,"0")}:${String(d).padStart(2,"0")}:${String(p).padStart(2,"0")}`,e.innerText=u}function eh(){let e=document.querySelector("#events .events-section__testimonials-swiper .swiper-wrapper");if(e){if(e.innerHTML="",!es||0===es.length){e.innerHTML='<div class="swiper-slide text-center text-gray-500 py-8">لا توجد شهادات حالياً.</div>';return}if(es.forEach(t=>{let n=document.createElement("div");n.className="swiper-slide h-auto animate-on-scroll",n.innerHTML=`<div class="events-section__testi-card"><div class="events-section__testi-quote mb-4"><i class="fas fa-quote-right text-lg mr-2"></i> ${t.quote}</div><div class="events-section__testi-meta"><img src="${t.avatar}" class="events-section__testi-avatar" alt="صورة ${t.name}" loading="lazy"><div><span class="events-section__testi-name block">${t.name}</span><span class="events-section__testi-event">${t.event}</span></div></div></div>`,e.appendChild(n)}),u("#events .events-section__testimonials-swiper .animate-on-scroll"),"undefined"!=typeof Swiper)try{new Swiper("#events .events-section__testimonials-swiper",{slidesPerView:1,spaceBetween:20,pagination:{el:"#events .swiper-pagination",clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},watchOverflow:!0,grabCursor:!0})}catch(t){console.error("Swiper Testimonials Error:",t)}else console.warn("Swiper library not loaded for Event Testimonials.")}}function eb(){let e=document.querySelector("#events .events-section__past-grid");if(!e){console.error("Past events grid not found.");return}if(e.innerHTML="",!ei||0===ei.length){e.innerHTML='<p class="col-span-full text-center text-gray-500 py-8">لا توجد أنشطة سابقة لعرضها.</p>';return}ei.forEach((t,n)=>{let a=document.createElement("div");a.className="events-section__event-card animate-on-scroll group",a.tabIndex=0,a.setAttribute("role","article");let i=`past-event-title-${n}`;a.setAttribute("aria-labelledby",i),a.innerHTML=`
                    <div class="relative overflow-hidden">
                      ${t.highlight?`
                        <div class="events-section__past-event-extra-detail">
                            <i class="fas fa-star text-xs text-yellow-500 mr-1"></i> ${t.highlight}
                        </div>
                        `:""}
                         <img class="events-section__event-img" src="${t.img}" alt="صورة حدث سابق: ${t.title}" loading="lazy">

                     </div>
                    <div class="events-section__event-info">
                        <h3 class="events-section__event-title" id="${i}">${t.title}</h3>

                        <div class="events-section__event-date">
                            <i class="far fa-calendar-check"></i>
                            <span>${ec(t.date)}</span>
                        </div>

                        <div class="events-section__event-description">${t.summary}</div>



                        <a href="${t.gallery||"#"}" target="_blank" rel="noopener noreferrer" class="btn btn-secondary events-section__event-cta">
                           <span><i class="fas fa-images mr-1"></i>  عرض الحدث  </span>
                        </a>
                     </div>
                `,a.addEventListener("keydown",e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a.querySelector(".events-section__event-cta")?.click())}),e.appendChild(a)}),u("#events .events-section__past-grid .animate-on-scroll")}function ey(){console.log("Initializing Events Section Components..."),em(),ef(),eh(),eb(),ev(),n=setInterval(ev,1e3);let e=document.getElementById("event-search");if(e&&e.addEventListener("input",function(){eg.search=this.value,ef()}),"undefined"!=typeof Swiper)try{new Swiper("#events .events-section__hero-swiper",{loop:!0,effect:"fade",autoplay:{delay:4500,disableOnInteraction:!1},pagination:{el:"#events .events-section__hero-pagination",clickable:!0},grabCursor:!0,watchOverflow:!0})}catch(t){console.error("Events Hero Swiper Error:",t)}else console.warn("Swiper library not loaded for Events Hero.");console.log("Events Section Initialization Complete.")}N(),Z(),e?K():z&&(z.innerHTML='<p class="text-center text-red-500 md:col-span-2 lg:col-span-3">خطأ في الاتصال بقاعدة البيانات.</p>'),ey(),window.addEventListener("beforeunload",()=>{n&&clearInterval(n)}),document.addEventListener("contextmenu",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){("F12"===e.key||123===e.keyCode)&&e.preventDefault(),e.ctrlKey&&e.shiftKey&&("I"===e.key||"i"===e.key||73===e.keyCode)&&e.preventDefault(),e.ctrlKey&&e.shiftKey&&("J"===e.key||"j"===e.key||74===e.keyCode)&&e.preventDefault(),e.ctrlKey&&e.shiftKey&&("C"===e.key||"c"===e.key||67===e.keyCode)&&e.preventDefault(),e.ctrlKey&&("U"===e.key||"u"===e.key||85===e.keyCode)&&e.preventDefault()})});